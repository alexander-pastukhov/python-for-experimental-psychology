<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Seminar 19 Context, settings, and exceptions | Python for social and experimental psychology</title>
  <meta name="description" content="Material and exercises for ‘Python for social and experimental psychology’ seminar." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Seminar 19 Context, settings, and exceptions | Python for social and experimental psychology" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Material and exercises for ‘Python for social and experimental psychology’ seminar." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Seminar 19 Context, settings, and exceptions | Python for social and experimental psychology" />
  
  <meta name="twitter:description" content="Material and exercises for ‘Python for social and experimental psychology’ seminar." />
  

<meta name="author" content="Alexander (Sasha) Pastukhov" />


<meta name="date" content="2021-06-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="seminar-02-06.html"/>
<link rel="next" href="cross-references.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html">Python for social and experimental psychology</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-material"><i class="fa fa-check"></i>About the material</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-seminar"><i class="fa fa-check"></i>About the seminar</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#note-on-exercises"><i class="fa fa-check"></i>Note on exercises</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-python"><i class="fa fa-check"></i>Why Python?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i>Getting Started</a>
<ul>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#install-anaconda"><i class="fa fa-check"></i>Installing Anaconda environment</a></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#install-vs-code"><i class="fa fa-check"></i>Installing Visual Studio Code</a></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#debug-in-vs-code"><i class="fa fa-check"></i>Debugging in VIsual Studio Code</a></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#install-psychopy"><i class="fa fa-check"></i>Installing PsychoPy</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="seminar01.html"><a href="seminar01.html"><i class="fa fa-check"></i><b>1</b> Python basics</a>
<ul>
<li class="chapter" data-level="1.1" data-path="seminar01.html"><a href="seminar01.html#variables"><i class="fa fa-check"></i><b>1.1</b> Variables</a></li>
<li class="chapter" data-level="1.2" data-path="seminar01.html"><a href="seminar01.html#assignments-are-not-equations"><i class="fa fa-check"></i><b>1.2</b> Assignments are not equations!</a></li>
<li class="chapter" data-level="1.3" data-path="seminar01.html"><a href="seminar01.html#constants"><i class="fa fa-check"></i><b>1.3</b> Constants</a></li>
<li class="chapter" data-level="1.4" data-path="seminar01.html"><a href="seminar01.html#value-types"><i class="fa fa-check"></i><b>1.4</b> Value types</a></li>
<li class="chapter" data-level="1.5" data-path="seminar01.html"><a href="seminar01.html#printing-output"><i class="fa fa-check"></i><b>1.5</b> Printing output</a></li>
<li class="chapter" data-level="1.6" data-path="seminar01.html"><a href="seminar01.html#string-formatting"><i class="fa fa-check"></i><b>1.6</b> String formatting</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="seminar02.html"><a href="seminar02.html"><i class="fa fa-check"></i><b>2</b> Guess the Number</a>
<ul>
<li class="chapter" data-level="2.1" data-path="seminar02.html"><a href="seminar02.html#game-description"><i class="fa fa-check"></i><b>2.1</b> Game description</a></li>
<li class="chapter" data-level="2.2" data-path="seminar02.html"><a href="seminar02.html#lets-pick-the-number-exercise-1"><i class="fa fa-check"></i><b>2.2</b> Let’s pick the number (Exercise 1)</a></li>
<li class="chapter" data-level="2.3" data-path="seminar02.html"><a href="seminar02.html#input-function"><i class="fa fa-check"></i><b>2.3</b> Asking user for a guess (Exercise 2)</a></li>
<li class="chapter" data-level="2.4" data-path="seminar02.html"><a href="seminar02.html#conditional-if-statement"><i class="fa fa-check"></i><b>2.4</b> Conditional <em>if</em> statement</a></li>
<li class="chapter" data-level="2.5" data-path="seminar02.html"><a href="seminar02.html#conditions-and-comparisons-exercises-3-8"><i class="fa fa-check"></i><b>2.5</b> Conditions and comparisons (exercises 3-8)</a></li>
<li class="chapter" data-level="2.6" data-path="seminar02.html"><a href="seminar02.html#grouping-statements-via-identation-exercise-9"><i class="fa fa-check"></i><b>2.6</b> Grouping statements via identation (exercise #9)</a></li>
<li class="chapter" data-level="2.7" data-path="seminar02.html"><a href="seminar02.html#checking-the-answer-exercise-11"><i class="fa fa-check"></i><b>2.7</b> Checking the answer (Exercise 11)</a></li>
<li class="chapter" data-level="2.8" data-path="seminar02.html"><a href="seminar02.html#picking-number-randomly-exercise-12"><i class="fa fa-check"></i><b>2.8</b> Picking number randomly (Exercise 12)</a></li>
<li class="chapter" data-level="2.9" data-path="seminar02.html"><a href="seminar02.html#one-armed-bandit-exercise-13"><i class="fa fa-check"></i><b>2.9</b> One-armed bandit (Exercise 13)</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="seminar03.html"><a href="seminar03.html"><i class="fa fa-check"></i><b>3</b> Guess the Number, the Sequel</a>
<ul>
<li class="chapter" data-level="3.1" data-path="seminar03.html"><a href="seminar03.html#while-loop"><i class="fa fa-check"></i><b>3.1</b> While loop (Exercises 1-2)</a></li>
<li class="chapter" data-level="3.2" data-path="seminar03.html"><a href="seminar03.html#counting-attempts-exercise-3"><i class="fa fa-check"></i><b>3.2</b> Counting attempts (Exercise #3)</a></li>
<li class="chapter" data-level="3.3" data-path="seminar03.html"><a href="seminar03.html#break"><i class="fa fa-check"></i><b>3.3</b> Breaking (and exiting, Exercise #4)</a></li>
<li class="chapter" data-level="3.4" data-path="seminar03.html"><a href="seminar03.html#limiting-number-of-attempts-via-break-exercise-5"><i class="fa fa-check"></i><b>3.4</b> Limiting number of attempts via break (Exercise 5)</a></li>
<li class="chapter" data-level="3.5" data-path="seminar03.html"><a href="seminar03.html#correct-end-of-game-message-exercise-6"><i class="fa fa-check"></i><b>3.5</b> Correct end-of-game message (Exercise 6)</a></li>
<li class="chapter" data-level="3.6" data-path="seminar03.html"><a href="seminar03.html#limiting-number-of-attempts-with-a-break-exercise-7"><i class="fa fa-check"></i><b>3.6</b> Limiting number of attempts with a break (Exercise 7)</a></li>
<li class="chapter" data-level="3.7" data-path="seminar03.html"><a href="seminar03.html#show-remaining-attempts-exercise-8"><i class="fa fa-check"></i><b>3.7</b> Show remaining attempts (Exercise 8)</a></li>
<li class="chapter" data-level="3.8" data-path="seminar03.html"><a href="seminar03.html#repeating-the-game-exercise-9"><i class="fa fa-check"></i><b>3.8</b> Repeating the game (Exercise 9)</a></li>
<li class="chapter" data-level="3.9" data-path="seminar03.html"><a href="seminar03.html#best-score-exercise-10"><i class="fa fa-check"></i><b>3.9</b> Best score (Exercise 10)</a></li>
<li class="chapter" data-level="3.10" data-path="seminar03.html"><a href="seminar03.html#counting-game-rounds-exercise-11"><i class="fa fa-check"></i><b>3.10</b> Counting game rounds (Exercise 11)</a></li>
<li class="chapter" data-level="3.11" data-path="seminar03.html"><a href="seminar03.html#wrap-up"><i class="fa fa-check"></i><b>3.11</b> Wrap up</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="seminar04.html"><a href="seminar04.html"><i class="fa fa-check"></i><b>4</b> Hunt the Wumpus, part 1</a>
<ul>
<li class="chapter" data-level="4.1" data-path="seminar04.html"><a href="seminar04.html#lists"><i class="fa fa-check"></i><b>4.1</b> Lists</a></li>
<li class="chapter" data-level="4.2" data-path="seminar04.html"><a href="seminar04.html#caves"><i class="fa fa-check"></i><b>4.2</b> Caves</a></li>
<li class="chapter" data-level="4.3" data-path="seminar04.html"><a href="seminar04.html#wandering-around"><i class="fa fa-check"></i><b>4.3</b> Wandering around</a></li>
<li class="chapter" data-level="4.4" data-path="seminar04.html"><a href="seminar04.html#checking-whether-a-value-is-in-the-list"><i class="fa fa-check"></i><b>4.4</b> Checking whether a value is <em>in</em> the list</a></li>
<li class="chapter" data-level="4.5" data-path="seminar04.html"><a href="seminar04.html#checking-valid-cave-index"><i class="fa fa-check"></i><b>4.5</b> Checking valid cave index</a></li>
<li class="chapter" data-level="4.6" data-path="seminar04.html"><a href="seminar04.html#checking-that-string-can-be-converted-to-an-integer"><i class="fa fa-check"></i><b>4.6</b> Checking that string can be converted to an integer</a></li>
<li class="chapter" data-level="4.7" data-path="seminar04.html"><a href="seminar04.html#checking-valid-integer-input"><i class="fa fa-check"></i><b>4.7</b> Checking valid integer input</a></li>
<li class="chapter" data-level="4.8" data-path="seminar04.html"><a href="seminar04.html#wrap-up-1"><i class="fa fa-check"></i><b>4.8</b> Wrap up</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="seminar05.html"><a href="seminar05.html"><i class="fa fa-check"></i><b>5</b> Hunt the Wumpus, part 2</a>
<ul>
<li class="chapter" data-level="5.1" data-path="seminar05.html"><a href="seminar05.html#function"><i class="fa fa-check"></i><b>5.1</b> Functions</a>
<ul>
<li class="chapter" data-level="" data-path="seminar05.html"><a href="seminar05.html#function-performs-a-single-computation"><i class="fa fa-check"></i>Function performs a single computation</a></li>
<li class="chapter" data-level="" data-path="seminar05.html"><a href="seminar05.html#function-isolates-code-from-the-rest-of-the-program"><i class="fa fa-check"></i>Function isolates code from the rest of the program</a></li>
<li class="chapter" data-level="" data-path="seminar05.html"><a href="seminar05.html#function-makes-code-easier-to-test"><i class="fa fa-check"></i>Function makes code easier to test</a></li>
<li class="chapter" data-level="" data-path="seminar05.html"><a href="seminar05.html#function-makes-code-reusable"><i class="fa fa-check"></i>Function makes code reusable</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="seminar05.html"><a href="seminar05.html#defining-a-function-in-python"><i class="fa fa-check"></i><b>5.2</b> Defining a function in Python</a></li>
<li class="chapter" data-level="5.3" data-path="seminar05.html"><a href="seminar05.html#function-arguments"><i class="fa fa-check"></i><b>5.3</b> Function arguments</a></li>
<li class="chapter" data-level="5.4" data-path="seminar05.html"><a href="seminar05.html#functions-returned-value-output"><i class="fa fa-check"></i><b>5.4</b> Functions’ returned value (output)</a></li>
<li class="chapter" data-level="5.5" data-path="seminar05.html"><a href="seminar05.html#scopes-for-immutable-values"><i class="fa fa-check"></i><b>5.5</b> Scopes (for immutable values)</a></li>
<li class="chapter" data-level="5.6" data-path="seminar05.html"><a href="seminar05.html#create-input_int"><i class="fa fa-check"></i><b>5.6</b> Create <em>input_int()</em></a></li>
<li class="chapter" data-level="5.7" data-path="seminar05.html"><a href="seminar05.html#documenting-input_int"><i class="fa fa-check"></i><b>5.7</b> Documenting <em>input_int()</em></a></li>
<li class="chapter" data-level="5.8" data-path="seminar05.html"><a href="seminar05.html#adding-prompt-parameter-to-input_int"><i class="fa fa-check"></i><b>5.8</b> Adding prompt parameter to <em>input_int()</em></a></li>
<li class="chapter" data-level="5.9" data-path="seminar05.html"><a href="seminar05.html#using-the-function-in-the-code"><i class="fa fa-check"></i><b>5.9</b> Using the function in the code</a></li>
<li class="chapter" data-level="5.10" data-path="seminar05.html"><a href="seminar05.html#create-input_cave-function"><i class="fa fa-check"></i><b>5.10</b> Create <em>input_cave()</em> function</a></li>
<li class="chapter" data-level="5.11" data-path="seminar05.html"><a href="seminar05.html#create-find_empty_cave-function"><i class="fa fa-check"></i><b>5.11</b> Create <em>find_empty_cave()</em> function</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="seminar06.html"><a href="seminar06.html"><i class="fa fa-check"></i><b>6</b> Hunt the Wumpus, part 3</a>
<ul>
<li class="chapter" data-level="6.1" data-path="seminar06.html"><a href="seminar06.html#recall-variables-as-boxes-immutable-objects"><i class="fa fa-check"></i><b>6.1</b> Recall, Variables as Boxes (immutable objects)</a></li>
<li class="chapter" data-level="6.2" data-path="seminar06.html"><a href="seminar06.html#mutable-objects"><i class="fa fa-check"></i><b>6.2</b> Variables as post-it stickers (mutable objects)</a></li>
<li class="chapter" data-level="6.3" data-path="seminar06.html"><a href="seminar06.html#tuple-a-frozen-list"><i class="fa fa-check"></i><b>6.3</b> Tuple: a frozen list</a></li>
<li class="chapter" data-level="6.4" data-path="seminar06.html"><a href="seminar06.html#keeping-track-of-occupied-caves"><i class="fa fa-check"></i><b>6.4</b> Keeping track of occupied caves</a></li>
<li class="chapter" data-level="6.5" data-path="seminar06.html"><a href="seminar06.html#for-loop"><i class="fa fa-check"></i><b>6.5</b> For loop</a></li>
<li class="chapter" data-level="6.6" data-path="seminar06.html"><a href="seminar06.html#range"><i class="fa fa-check"></i><b>6.6</b> range()</a></li>
<li class="chapter" data-level="6.7" data-path="seminar06.html"><a href="seminar06.html#placing-bottomless-pits"><i class="fa fa-check"></i><b>6.7</b> Placing bottomless pits</a></li>
<li class="chapter" data-level="6.8" data-path="seminar06.html"><a href="seminar06.html#falling-into-a-bottomless-pit"><i class="fa fa-check"></i><b>6.8</b> Falling into a bottomless pit</a></li>
<li class="chapter" data-level="6.9" data-path="seminar06.html"><a href="seminar06.html#warning-about-a-bottomless-pit"><i class="fa fa-check"></i><b>6.9</b> Warning about a bottomless pit</a></li>
<li class="chapter" data-level="6.10" data-path="seminar06.html"><a href="seminar06.html#placing-bats"><i class="fa fa-check"></i><b>6.10</b> Placing bats</a></li>
<li class="chapter" data-level="6.11" data-path="seminar06.html"><a href="seminar06.html#warned-about-bats"><i class="fa fa-check"></i><b>6.11</b> Warned about bats</a></li>
<li class="chapter" data-level="6.12" data-path="seminar06.html"><a href="seminar06.html#transported-by-bats-to-a-random-cave"><i class="fa fa-check"></i><b>6.12</b> Transported by bats to a random cave</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="seminar07.html"><a href="seminar07.html"><i class="fa fa-check"></i><b>7</b> Hunt the Wumpus, part 4</a>
<ul>
<li class="chapter" data-level="7.1" data-path="seminar07.html"><a href="seminar07.html#adding-wumpus."><i class="fa fa-check"></i><b>7.1</b> Adding Wumpus.</a></li>
<li class="chapter" data-level="7.2" data-path="seminar07.html"><a href="seminar07.html#giving-player-a-chance."><i class="fa fa-check"></i><b>7.2</b> Giving player a chance.</a></li>
<li class="chapter" data-level="7.3" data-path="seminar07.html"><a href="seminar07.html#flight-of-a-crooked-arrow"><i class="fa fa-check"></i><b>7.3</b> Flight of a crooked arrow</a></li>
<li class="chapter" data-level="7.4" data-path="seminar07.html"><a href="seminar07.html#random-cave-but-no-180-turn"><i class="fa fa-check"></i><b>7.4</b> Random cave but no 180° turn</a></li>
<li class="chapter" data-level="7.5" data-path="seminar07.html"><a href="seminar07.html#going-distance"><i class="fa fa-check"></i><b>7.5</b> Going distance</a></li>
<li class="chapter" data-level="7.6" data-path="seminar07.html"><a href="seminar07.html#hitting-a-target"><i class="fa fa-check"></i><b>7.6</b> Hitting a target</a></li>
<li class="chapter" data-level="7.7" data-path="seminar07.html"><a href="seminar07.html#almost-where"><i class="fa fa-check"></i><b>7.7</b> Almost where</a></li>
<li class="chapter" data-level="7.8" data-path="seminar07.html"><a href="seminar07.html#move-or-shoot"><i class="fa fa-check"></i><b>7.8</b> Move or shoot?</a></li>
<li class="chapter" data-level="7.9" data-path="seminar07.html"><a href="seminar07.html#how-far"><i class="fa fa-check"></i><b>7.9</b> How far?</a></li>
<li class="chapter" data-level="7.10" data-path="seminar07.html"><a href="seminar07.html#input_cave-prompt"><i class="fa fa-check"></i><b>7.10</b> input_cave prompt</a></li>
<li class="chapter" data-level="7.11" data-path="seminar07.html"><a href="seminar07.html#putting-it-all-together"><i class="fa fa-check"></i><b>7.11</b> Putting it all together</a></li>
<li class="chapter" data-level="7.12" data-path="seminar07.html"><a href="seminar07.html#wrap-up-2"><i class="fa fa-check"></i><b>7.12</b> Wrap up</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="seminar08.html"><a href="seminar08.html"><i class="fa fa-check"></i><b>8</b> Gettings start with PsychoPy</a>
<ul>
<li class="chapter" data-level="8.1" data-path="seminar08.html"><a href="seminar08.html#minimal-psychopy-code"><i class="fa fa-check"></i><b>8.1</b> Minimal PsychoPy code</a></li>
<li class="chapter" data-level="8.2" data-path="seminar08.html"><a href="seminar08.html#adding-main-loop"><i class="fa fa-check"></i><b>8.2</b> Adding main loop</a></li>
<li class="chapter" data-level="8.3" data-path="seminar08.html"><a href="seminar08.html#adding-text-message"><i class="fa fa-check"></i><b>8.3</b> Adding text message</a></li>
<li class="chapter" data-level="8.4" data-path="seminar08.html"><a href="seminar08.html#adding-a-square-and-placing-it-not-at-the-center-of-the-window"><i class="fa fa-check"></i><b>8.4</b> Adding a square and placing it <em>not</em> at the center of the window</a></li>
<li class="chapter" data-level="8.5" data-path="seminar08.html"><a href="seminar08.html#psychopy-units"><i class="fa fa-check"></i><b>8.5</b> Five units systems</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="seminar08.html"><a href="seminar08.html#height-units"><i class="fa fa-check"></i><b>8.5.1</b> Height units</a></li>
<li class="chapter" data-level="8.5.2" data-path="seminar08.html"><a href="seminar08.html#normalized-units"><i class="fa fa-check"></i><b>8.5.2</b> Normalized units</a></li>
<li class="chapter" data-level="8.5.3" data-path="seminar08.html"><a href="seminar08.html#pixels-on-screen"><i class="fa fa-check"></i><b>8.5.3</b> Pixels on screen</a></li>
<li class="chapter" data-level="8.5.4" data-path="seminar08.html"><a href="seminar08.html#degrees-of-visual-angle"><i class="fa fa-check"></i><b>8.5.4</b> Degrees of visual angle</a></li>
<li class="chapter" data-level="8.5.5" data-path="seminar08.html"><a href="seminar08.html#centimeters-on-screen"><i class="fa fa-check"></i><b>8.5.5</b> Centimeters on screen</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="seminar08.html"><a href="seminar08.html#make-your-square-jump"><i class="fa fa-check"></i><b>8.6</b> Make your square jump!</a></li>
<li class="chapter" data-level="8.7" data-path="seminar08.html"><a href="seminar08.html#make-the-square-jump-on-your-command"><i class="fa fa-check"></i><b>8.7</b> Make the square jump on your command!</a></li>
<li class="chapter" data-level="8.8" data-path="seminar08.html"><a href="seminar08.html#i-like-to-move-it-move-it"><i class="fa fa-check"></i><b>8.8</b> I like to move it, move it!</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="seminar09.html"><a href="seminar09.html"><i class="fa fa-check"></i><b>9</b> Memory game, part 1</a>
<ul>
<li class="chapter" data-level="9.1" data-path="seminar09.html"><a href="seminar09.html#minimal-code"><i class="fa fa-check"></i><b>9.1</b> Minimal code</a></li>
<li class="chapter" data-level="9.2" data-path="seminar09.html"><a href="seminar09.html#drawing-an-image"><i class="fa fa-check"></i><b>9.2</b> Drawing an image</a></li>
<li class="chapter" data-level="9.3" data-path="seminar09.html"><a href="seminar09.html#python-function-argumentsparameters"><i class="fa fa-check"></i><b>9.3</b> Python function arguments/parameters</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="seminar09.html"><a href="seminar09.html#position-and-name-keyword"><i class="fa fa-check"></i><b>9.3.1</b> Position and name (keyword)</a></li>
<li class="chapter" data-level="9.3.2" data-path="seminar09.html"><a href="seminar09.html#using-os-library"><i class="fa fa-check"></i><b>9.3.2</b> Using <em>os</em> library</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="seminar09.html"><a href="seminar09.html#ordnung-muss-sein"><i class="fa fa-check"></i><b>9.4</b> Ordnung muss sein!</a></li>
<li class="chapter" data-level="9.5" data-path="seminar09.html"><a href="seminar09.html#placing-an-image"><i class="fa fa-check"></i><b>9.5</b> Placing an image</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="seminar09.html"><a href="seminar09.html#using-your-own-modules"><i class="fa fa-check"></i><b>9.5.1</b> Using your own modules</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="seminar09.html"><a href="seminar09.html#back-side-of-the-card"><i class="fa fa-check"></i><b>9.6</b> Back side of the card</a></li>
<li class="chapter" data-level="9.7" data-path="seminar09.html"><a href="seminar09.html#dictionaries"><i class="fa fa-check"></i><b>9.7</b> Dictionaries</a></li>
<li class="chapter" data-level="9.8" data-path="seminar09.html"><a href="seminar09.html#using-dictionary-to-represent-a-card"><i class="fa fa-check"></i><b>9.8</b> Using dictionary to represent a card</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="seminar09.html"><a href="seminar09.html#card-factory"><i class="fa fa-check"></i><b>9.8.1</b> Card factory</a></li>
<li class="chapter" data-level="9.8.2" data-path="seminar09.html"><a href="seminar09.html#adding-presentationinputs-loop"><i class="fa fa-check"></i><b>9.8.2</b> Adding presentation/inputs loop</a></li>
<li class="chapter" data-level="9.8.3" data-path="seminar09.html"><a href="seminar09.html#detecting-a-mouse-click"><i class="fa fa-check"></i><b>9.8.3</b> Detecting a mouse click</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="seminar09.html"><a href="seminar09.html#position-to-index"><i class="fa fa-check"></i><b>9.9</b> Position to index</a></li>
<li class="chapter" data-level="9.10" data-path="seminar09.html"><a href="seminar09.html#flip-on-click"><i class="fa fa-check"></i><b>9.10</b> Flip on click</a></li>
<li class="chapter" data-level="9.11" data-path="seminar09.html"><a href="seminar09.html#flip-flop"><i class="fa fa-check"></i><b>9.11</b> Flip-flop</a></li>
<li class="chapter" data-level="9.12" data-path="seminar09.html"><a href="seminar09.html#to-be-continued"><i class="fa fa-check"></i><b>9.12</b> To be continued…</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="seminar10.html"><a href="seminar10.html"><i class="fa fa-check"></i><b>10</b> Memory game, part 2</a>
<ul>
<li class="chapter" data-level="10.1" data-path="seminar10.html"><a href="seminar10.html#getting-list-of-image-files."><i class="fa fa-check"></i><b>10.1</b> Getting list of image files.</a></li>
<li class="chapter" data-level="10.2" data-path="seminar10.html"><a href="seminar10.html#list-comprehension"><i class="fa fa-check"></i><b>10.2</b> List comprehension</a></li>
<li class="chapter" data-level="10.3" data-path="seminar10.html"><a href="seminar10.html#getting-list-of-relevant-files"><i class="fa fa-check"></i><b>10.3</b> Getting list of relevant files</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="seminar10.html"><a href="seminar10.html#list-operations"><i class="fa fa-check"></i><b>10.3.1</b> List operations</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="seminar10.html"><a href="seminar10.html#lots-of-cards-using-list-enumeration"><i class="fa fa-check"></i><b>10.4</b> Lots of cards, using list enumeration</a></li>
<li class="chapter" data-level="10.5" data-path="seminar10.html"><a href="seminar10.html#mouse-interaction-for-every-card"><i class="fa fa-check"></i><b>10.5</b> Mouse interaction for every card</a></li>
<li class="chapter" data-level="10.6" data-path="seminar10.html"><a href="seminar10.html#limiting-flipping-to-just-two-cards"><i class="fa fa-check"></i><b>10.6</b> Limiting flipping to just two cards</a></li>
<li class="chapter" data-level="10.7" data-path="seminar10.html"><a href="seminar10.html#remembering-which-cards-were-turned"><i class="fa fa-check"></i><b>10.7</b> Remembering which cards were turned</a></li>
<li class="chapter" data-level="10.8" data-path="seminar10.html"><a href="seminar10.html#visible-card-flag"><i class="fa fa-check"></i><b>10.8</b> “Visible” card flag</a></li>
<li class="chapter" data-level="10.9" data-path="seminar10.html"><a href="seminar10.html#removing-matching-cards"><i class="fa fa-check"></i><b>10.9</b> “Removing” matching cards</a></li>
<li class="chapter" data-level="10.10" data-path="seminar10.html"><a href="seminar10.html#game-over-if-you-run-out-of-cards"><i class="fa fa-check"></i><b>10.10</b> Game over, if you run out of cards</a></li>
<li class="chapter" data-level="10.11" data-path="seminar10.html"><a href="seminar10.html#game-over-message"><i class="fa fa-check"></i><b>10.11</b> Game over message</a></li>
<li class="chapter" data-level="10.12" data-path="seminar10.html"><a href="seminar10.html#counting-attempts"><i class="fa fa-check"></i><b>10.12</b> Counting attempts</a></li>
<li class="chapter" data-level="10.13" data-path="seminar10.html"><a href="seminar10.html#record-time"><i class="fa fa-check"></i><b>10.13</b> Record time</a></li>
<li class="chapter" data-level="10.14" data-path="seminar10.html"><a href="seminar10.html#randomness"><i class="fa fa-check"></i><b>10.14</b> Randomness</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="seminar11.html"><a href="seminar11.html"><i class="fa fa-check"></i><b>11</b> Memory game, part 3</a>
<ul>
<li class="chapter" data-level="11.1" data-path="seminar11.html"><a href="seminar11.html#sound-effects"><i class="fa fa-check"></i><b>11.1</b> Sound effects</a></li>
<li class="chapter" data-level="11.2" data-path="seminar11.html"><a href="seminar11.html#sound-from-file"><i class="fa fa-check"></i><b>11.2</b> Sound from file</a></li>
<li class="chapter" data-level="11.3" data-path="seminar11.html"><a href="seminar11.html#feedback-sounds"><i class="fa fa-check"></i><b>11.3</b> Feedback sounds</a></li>
<li class="chapter" data-level="11.4" data-path="seminar11.html"><a href="seminar11.html#keeping-sounds-organized-dictionary-comprehension"><i class="fa fa-check"></i><b>11.4</b> Keeping sounds organized: dictionary comprehension</a></li>
<li class="chapter" data-level="11.5" data-path="seminar11.html"><a href="seminar11.html#logging-data"><i class="fa fa-check"></i><b>11.5</b> Logging data</a></li>
<li class="chapter" data-level="11.6" data-path="seminar11.html"><a href="seminar11.html#more-rounds"><i class="fa fa-check"></i><b>11.6</b> More rounds</a></li>
<li class="chapter" data-level="11.7" data-path="seminar11.html"><a href="seminar11.html#random-order"><i class="fa fa-check"></i><b>11.7</b> Random order</a></li>
<li class="chapter" data-level="11.8" data-path="seminar11.html"><a href="seminar11.html#abba-order"><i class="fa fa-check"></i><b>11.8</b> ABBA order</a></li>
<li class="chapter" data-level="11.9" data-path="seminar11.html"><a href="seminar11.html#we-want-more"><i class="fa fa-check"></i><b>11.9</b> We want more!</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="the-skill-of-programming.html"><a href="the-skill-of-programming.html"><i class="fa fa-check"></i><b>12</b> The skill of programming</a>
<ul>
<li class="chapter" data-level="12.1" data-path="the-skill-of-programming.html"><a href="the-skill-of-programming.html#writing-the-code"><i class="fa fa-check"></i><b>12.1</b> Writing the code</a></li>
<li class="chapter" data-level="12.2" data-path="the-skill-of-programming.html"><a href="the-skill-of-programming.html#reading-the-code"><i class="fa fa-check"></i><b>12.2</b> Reading the code</a></li>
<li class="chapter" data-level="12.3" data-path="the-skill-of-programming.html"><a href="the-skill-of-programming.html#zen-of-python"><i class="fa fa-check"></i><b>12.3</b> Zen of Python</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="seminar-02-01.html"><a href="seminar-02-01.html"><i class="fa fa-check"></i><b>13</b> Snake game</a>
<ul>
<li class="chapter" data-level="13.1" data-path="seminar-02-01.html"><a href="seminar-02-01.html#assignments"><i class="fa fa-check"></i><b>13.1</b> Assignments</a></li>
<li class="chapter" data-level="13.2" data-path="seminar-02-01.html"><a href="seminar-02-01.html#snake-game-an-overview"><i class="fa fa-check"></i><b>13.2</b> Snake game: an overview</a></li>
<li class="chapter" data-level="13.3" data-path="seminar-02-01.html"><a href="seminar-02-01.html#initializing-psychopy"><i class="fa fa-check"></i><b>13.3</b> Initializing PsychoPy</a></li>
<li class="chapter" data-level="13.4" data-path="seminar-02-01.html"><a href="seminar-02-01.html#adding-a-square"><i class="fa fa-check"></i><b>13.4</b> Adding a square</a></li>
<li class="chapter" data-level="13.5" data-path="seminar-02-01.html"><a href="seminar-02-01.html#adding-the-snake"><i class="fa fa-check"></i><b>13.5</b> Adding the snake</a></li>
<li class="chapter" data-level="13.6" data-path="seminar-02-01.html"><a href="seminar-02-01.html#adding-main-game-loop"><i class="fa fa-check"></i><b>13.6</b> Adding main game loop</a></li>
<li class="chapter" data-level="13.7" data-path="seminar-02-01.html"><a href="seminar-02-01.html#get-a-move-on"><i class="fa fa-check"></i><b>13.7</b> Get a move on!</a></li>
<li class="chapter" data-level="13.8" data-path="seminar-02-01.html"><a href="seminar-02-01.html#self-motion"><i class="fa fa-check"></i><b>13.8</b> Self-motion</a></li>
<li class="chapter" data-level="13.9" data-path="seminar-02-01.html"><a href="seminar-02-01.html#describing-direction-using-words"><i class="fa fa-check"></i><b>13.9</b> Describing direction using words</a></li>
<li class="chapter" data-level="13.10" data-path="seminar-02-01.html"><a href="seminar-02-01.html#it-is-all-about-control"><i class="fa fa-check"></i><b>13.10</b> It is all about control</a></li>
<li class="chapter" data-level="13.11" data-path="seminar-02-01.html"><a href="seminar-02-01.html#turning-the-hard-way"><i class="fa fa-check"></i><b>13.11</b> Turning the hard way</a></li>
<li class="chapter" data-level="13.12" data-path="seminar-02-01.html"><a href="seminar-02-01.html#to-be-continued-1"><i class="fa fa-check"></i><b>13.12</b> To be continued…</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="seminar-02-02.html"><a href="seminar-02-02.html"><i class="fa fa-check"></i><b>14</b> Snake game, part 2</a>
<ul>
<li class="chapter" data-level="14.1" data-path="seminar-02-02.html"><a href="seminar-02-02.html#hitting-the-wall"><i class="fa fa-check"></i><b>14.1</b> Hitting the wall</a></li>
<li class="chapter" data-level="14.2" data-path="seminar-02-02.html"><a href="seminar-02-02.html#is-this-the-snake"><i class="fa fa-check"></i><b>14.2</b> Is this the snake?</a></li>
<li class="chapter" data-level="14.3" data-path="seminar-02-02.html"><a href="seminar-02-02.html#an-inedible-apple"><i class="fa fa-check"></i><b>14.3</b> An inedible apple</a></li>
<li class="chapter" data-level="14.4" data-path="seminar-02-02.html"><a href="seminar-02-02.html#eating-an-apple"><i class="fa fa-check"></i><b>14.4</b> Eating an apple</a></li>
<li class="chapter" data-level="14.5" data-path="seminar-02-02.html"><a href="seminar-02-02.html#eating-yourself"><i class="fa fa-check"></i><b>14.5</b> Eating yourself</a></li>
<li class="chapter" data-level="14.6" data-path="seminar-02-02.html"><a href="seminar-02-02.html#bells-and-whistles-score"><i class="fa fa-check"></i><b>14.6</b> Bells and whistles: score</a></li>
<li class="chapter" data-level="14.7" data-path="seminar-02-02.html"><a href="seminar-02-02.html#bells-and-whistels-three-lives"><i class="fa fa-check"></i><b>14.7</b> Bells and whistels: three lives</a></li>
<li class="chapter" data-level="14.8" data-path="seminar-02-02.html"><a href="seminar-02-02.html#bells-and-whistels-showing-lives"><i class="fa fa-check"></i><b>14.8</b> Bells and whistels: showing lives</a></li>
<li class="chapter" data-level="14.9" data-path="seminar-02-02.html"><a href="seminar-02-02.html#bells-and-whistles-difficulty"><i class="fa fa-check"></i><b>14.9</b> Bells and whistles: difficulty</a></li>
<li class="chapter" data-level="14.10" data-path="seminar-02-02.html"><a href="seminar-02-02.html#bells-and-whistles-sounds"><i class="fa fa-check"></i><b>14.10</b> Bells and whistles: sounds</a></li>
<li class="chapter" data-level="14.11" data-path="seminar-02-02.html"><a href="seminar-02-02.html#bells-and-whistles-blinking-game-over-message"><i class="fa fa-check"></i><b>14.11</b> Bells and whistles: blinking game over message</a></li>
<li class="chapter" data-level="14.12" data-path="seminar-02-02.html"><a href="seminar-02-02.html#next-stop-classes-and-objects"><i class="fa fa-check"></i><b>14.12</b> Next stop: classes and objects</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="seminar-02-03.html"><a href="seminar-02-03.html"><i class="fa fa-check"></i><b>15</b> Snake game: object-oriented programming</a>
<ul>
<li class="chapter" data-level="15.1" data-path="seminar-02-03.html"><a href="seminar-02-03.html#object-oriented-programming"><i class="fa fa-check"></i><b>15.1</b> Object-oriented programming</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="seminar-02-03.html"><a href="seminar-02-03.html#classes-and-objects-instances-of-classes"><i class="fa fa-check"></i><b>15.1.1</b> Classes and objects (instances of classes)</a></li>
<li class="chapter" data-level="15.1.2" data-path="seminar-02-03.html"><a href="seminar-02-03.html#encapsulation"><i class="fa fa-check"></i><b>15.1.2</b> Encapsulation</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="seminar-02-03.html"><a href="seminar-02-03.html#inheritance-generalization"><i class="fa fa-check"></i><b>15.2</b> Inheritance / Generalization</a></li>
<li class="chapter" data-level="15.3" data-path="seminar-02-03.html"><a href="seminar-02-03.html#polymorphism"><i class="fa fa-check"></i><b>15.3</b> Polymorphism</a></li>
<li class="chapter" data-level="15.4" data-path="seminar-02-03.html"><a href="seminar-02-03.html#a-minimal-class-example"><i class="fa fa-check"></i><b>15.4</b> A minimal class example</a></li>
<li class="chapter" data-level="15.5" data-path="seminar-02-03.html"><a href="seminar-02-03.html#add-method"><i class="fa fa-check"></i><b>15.5</b> <code>add</code> method</a></li>
<li class="chapter" data-level="15.6" data-path="seminar-02-03.html"><a href="seminar-02-03.html#flexible-accumulator-with-a-subtract-method"><i class="fa fa-check"></i><b>15.6</b> Flexible accumulator with a <code>subtract</code> method</a></li>
<li class="chapter" data-level="15.7" data-path="seminar-02-03.html"><a href="seminar-02-03.html#method-arguments"><i class="fa fa-check"></i><b>15.7</b> Method arguments</a></li>
<li class="chapter" data-level="15.8" data-path="seminar-02-03.html"><a href="seminar-02-03.html#constructor-arguments"><i class="fa fa-check"></i><b>15.8</b> Constructor arguments</a></li>
<li class="chapter" data-level="15.9" data-path="seminar-02-03.html"><a href="seminar-02-03.html#calling-methods-from-other-methods"><i class="fa fa-check"></i><b>15.9</b> Calling methods from other methods</a></li>
<li class="chapter" data-level="15.10" data-path="seminar-02-03.html"><a href="seminar-02-03.html#local-variables"><i class="fa fa-check"></i><b>15.10</b> Local variables</a></li>
<li class="chapter" data-level="15.11" data-path="seminar-02-03.html"><a href="seminar-02-03.html#refactoring-the-snake-game"><i class="fa fa-check"></i><b>15.11</b> Refactoring the Snake game</a></li>
<li class="chapter" data-level="15.12" data-path="seminar-02-03.html"><a href="seminar-02-03.html#gridwindow-class"><i class="fa fa-check"></i><b>15.12</b> GridWindow class</a></li>
<li class="chapter" data-level="15.13" data-path="seminar-02-03.html"><a href="seminar-02-03.html#apple-class"><i class="fa fa-check"></i><b>15.13</b> Apple class</a></li>
<li class="chapter" data-level="15.14" data-path="seminar-02-03.html"><a href="seminar-02-03.html#refactoring-the-code"><i class="fa fa-check"></i><b>15.14</b> Refactoring the code</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="seminar-02-04.html"><a href="seminar-02-04.html"><i class="fa fa-check"></i><b>16</b> Moon lander game</a>
<ul>
<li class="chapter" data-level="16.1" data-path="seminar-02-04.html"><a href="seminar-02-04.html#create-window"><i class="fa fa-check"></i><b>16.1</b> Create window</a></li>
<li class="chapter" data-level="16.2" data-path="seminar-02-04.html"><a href="seminar-02-04.html#create-moonlander-class"><i class="fa fa-check"></i><b>16.2</b> Create MoonLander class</a></li>
<li class="chapter" data-level="16.3" data-path="seminar-02-04.html"><a href="seminar-02-04.html#randomize-position"><i class="fa fa-check"></i><b>16.3</b> Randomize position</a></li>
<li class="chapter" data-level="16.4" data-path="seminar-02-04.html"><a href="seminar-02-04.html#gravity"><i class="fa fa-check"></i><b>16.4</b> Gravity</a></li>
<li class="chapter" data-level="16.5" data-path="seminar-02-04.html"><a href="seminar-02-04.html#vertical-thurster"><i class="fa fa-check"></i><b>16.5</b> Vertical thurster</a></li>
<li class="chapter" data-level="16.6" data-path="seminar-02-04.html"><a href="seminar-02-04.html#horizontal-thursters"><i class="fa fa-check"></i><b>16.6</b> Horizontal thursters</a></li>
<li class="chapter" data-level="16.7" data-path="seminar-02-04.html"><a href="seminar-02-04.html#landing-pad-visuals"><i class="fa fa-check"></i><b>16.7</b> Landing pad: visuals</a></li>
<li class="chapter" data-level="16.8" data-path="seminar-02-04.html"><a href="seminar-02-04.html#computing-edges-of-game-objects"><i class="fa fa-check"></i><b>16.8</b> Computing edges of game objects</a></li>
<li class="chapter" data-level="16.9" data-path="seminar-02-04.html"><a href="seminar-02-04.html#getter-setter"><i class="fa fa-check"></i><b>16.9</b> Virtual attributes via getters and setters</a></li>
<li class="chapter" data-level="16.10" data-path="seminar-02-04.html"><a href="seminar-02-04.html#access-restrictions"><i class="fa fa-check"></i><b>16.10</b> Access restrictions</a></li>
<li class="chapter" data-level="16.11" data-path="seminar-02-04.html"><a href="seminar-02-04.html#landing"><i class="fa fa-check"></i><b>16.11</b> Landing</a></li>
<li class="chapter" data-level="16.12" data-path="seminar-02-04.html"><a href="seminar-02-04.html#more-rounds-1"><i class="fa fa-check"></i><b>16.12</b> More rounds</a></li>
<li class="chapter" data-level="16.13" data-path="seminar-02-04.html"><a href="seminar-02-04.html#limited-fuel"><i class="fa fa-check"></i><b>16.13</b> Limited fuel</a></li>
<li class="chapter" data-level="16.14" data-path="seminar-02-04.html"><a href="seminar-02-04.html#add-to-it"><i class="fa fa-check"></i><b>16.14</b> Add to it!</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="seminar-02-05.html"><a href="seminar-02-05.html"><i class="fa fa-check"></i><b>17</b> Space invaders: mixins and duck typing</a>
<ul>
<li class="chapter" data-level="17.1" data-path="seminar-02-05.html"><a href="seminar-02-05.html#mixins"><i class="fa fa-check"></i><b>17.1</b> Mixins</a></li>
<li class="chapter" data-level="17.2" data-path="seminar-02-05.html"><a href="seminar-02-05.html#duck-typing"><i class="fa fa-check"></i><b>17.2</b> Duck typing</a></li>
<li class="chapter" data-level="17.3" data-path="seminar-02-05.html"><a href="seminar-02-05.html#which-one-to-use"><i class="fa fa-check"></i><b>17.3</b> Which one to use?</a></li>
<li class="chapter" data-level="17.4" data-path="seminar-02-05.html"><a href="seminar-02-05.html#space-invaders"><i class="fa fa-check"></i><b>17.4</b> Space Invaders</a></li>
<li class="chapter" data-level="17.5" data-path="seminar-02-05.html"><a href="seminar-02-05.html#boilerplate"><i class="fa fa-check"></i><b>17.5</b> Boilerplate</a></li>
<li class="chapter" data-level="17.6" data-path="seminar-02-05.html"><a href="seminar-02-05.html#the-spaceship"><i class="fa fa-check"></i><b>17.6</b> The spaceship</a></li>
<li class="chapter" data-level="17.7" data-path="seminar-02-05.html"><a href="seminar-02-05.html#the-spaceship-moves"><i class="fa fa-check"></i><b>17.7</b> The spaceship moves</a></li>
<li class="chapter" data-level="17.8" data-path="seminar-02-05.html"><a href="seminar-02-05.html#an-alien-appears"><i class="fa fa-check"></i><b>17.8</b> An alien appears</a></li>
<li class="chapter" data-level="17.9" data-path="seminar-02-05.html"><a href="seminar-02-05.html#an-alien-armada-appears"><i class="fa fa-check"></i><b>17.9</b> An alien armada appears</a></li>
<li class="chapter" data-level="17.10" data-path="seminar-02-05.html"><a href="seminar-02-05.html#a-laser-shot-appears"><i class="fa fa-check"></i><b>17.10</b> A laser shot appears</a></li>
<li class="chapter" data-level="17.11" data-path="seminar-02-05.html"><a href="seminar-02-05.html#the-laser-shot-flies"><i class="fa fa-check"></i><b>17.11</b> The laser shot flies</a></li>
<li class="chapter" data-level="17.12" data-path="seminar-02-05.html"><a href="seminar-02-05.html#we-want-more-lasers"><i class="fa fa-check"></i><b>17.12</b> We want more lasers!</a></li>
<li class="chapter" data-level="17.13" data-path="seminar-02-05.html"><a href="seminar-02-05.html#i-am-hit-i-am-hit"><i class="fa fa-check"></i><b>17.13</b> I am hit! I am hit!</a></li>
<li class="chapter" data-level="17.14" data-path="seminar-02-05.html"><a href="seminar-02-05.html#duck-typiing-iterators"><i class="fa fa-check"></i><b>17.14</b> Duck typiing iterators</a></li>
<li class="chapter" data-level="17.15" data-path="seminar-02-05.html"><a href="seminar-02-05.html#gotem-all"><i class="fa fa-check"></i><b>17.15</b> Got’em all!</a></li>
<li class="chapter" data-level="17.16" data-path="seminar-02-05.html"><a href="seminar-02-05.html#ping"><i class="fa fa-check"></i><b>17.16</b> Ping!</a></li>
<li class="chapter" data-level="17.17" data-path="seminar-02-05.html"><a href="seminar-02-05.html#the-alien-armada-jumps"><i class="fa fa-check"></i><b>17.17</b> The alien armada jumps</a></li>
<li class="chapter" data-level="17.18" data-path="seminar-02-05.html"><a href="seminar-02-05.html#the-alien-armada-moves"><i class="fa fa-check"></i><b>17.18</b> The alien armada moves</a></li>
<li class="chapter" data-level="17.19" data-path="seminar-02-05.html"><a href="seminar-02-05.html#the-alien-armada-wins-crash"><i class="fa fa-check"></i><b>17.19</b> The alien armada wins: crash!</a></li>
<li class="chapter" data-level="17.20" data-path="seminar-02-05.html"><a href="seminar-02-05.html#the-alien-armada-wins-missed-them"><i class="fa fa-check"></i><b>17.20</b> The alien armada wins: missed them!</a></li>
<li class="chapter" data-level="17.21" data-path="seminar-02-05.html"><a href="seminar-02-05.html#mixin-teleport"><i class="fa fa-check"></i><b>17.21</b> Mixin teleport</a></li>
<li class="chapter" data-level="17.22" data-path="seminar-02-05.html"><a href="seminar-02-05.html#game-over-message-1"><i class="fa fa-check"></i><b>17.22</b> Game over message</a></li>
<li class="chapter" data-level="17.23" data-path="seminar-02-05.html"><a href="seminar-02-05.html#we-want-more-1"><i class="fa fa-check"></i><b>17.23</b> We want more!</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="seminar-02-06.html"><a href="seminar-02-06.html"><i class="fa fa-check"></i><b>18</b> Guitar Hero: staircase and iterator functions</a>
<ul>
<li class="chapter" data-level="18.1" data-path="seminar-02-06.html"><a href="seminar-02-06.html#getting-the-difficulty-just-right"><i class="fa fa-check"></i><b>18.1</b> Getting the difficulty just right</a></li>
<li class="chapter" data-level="18.2" data-path="seminar-02-06.html"><a href="seminar-02-06.html#guitar-hero"><i class="fa fa-check"></i><b>18.2</b> Guitar Hero</a></li>
<li class="chapter" data-level="18.3" data-path="seminar-02-06.html"><a href="seminar-02-06.html#boilerplate-1"><i class="fa fa-check"></i><b>18.3</b> Boilerplate</a></li>
<li class="chapter" data-level="18.4" data-path="seminar-02-06.html"><a href="seminar-02-06.html#target-and-timedresponsetask-classes"><i class="fa fa-check"></i><b>18.4</b> Target and TimedResponseTask classes</a></li>
<li class="chapter" data-level="18.5" data-path="seminar-02-06.html"><a href="seminar-02-06.html#target-class-static"><i class="fa fa-check"></i><b>18.5</b> Target class: static</a></li>
<li class="chapter" data-level="18.6" data-path="seminar-02-06.html"><a href="seminar-02-06.html#target-class-moving"><i class="fa fa-check"></i><b>18.6</b> Target class: moving</a></li>
<li class="chapter" data-level="18.7" data-path="seminar-02-06.html"><a href="seminar-02-06.html#iteratorgenerator-functions"><i class="fa fa-check"></i><b>18.7</b> Iterator/Generator functions</a></li>
<li class="chapter" data-level="18.8" data-path="seminar-02-06.html"><a href="seminar-02-06.html#timedresponsetask-class"><i class="fa fa-check"></i><b>18.8</b> TimedResponseTask class</a></li>
<li class="chapter" data-level="18.9" data-path="seminar-02-06.html"><a href="seminar-02-06.html#disposing-of-unneed-targets"><i class="fa fa-check"></i><b>18.9</b> Disposing of unneed targets</a></li>
<li class="chapter" data-level="18.10" data-path="seminar-02-06.html"><a href="seminar-02-06.html#finishing-line"><i class="fa fa-check"></i><b>18.10</b> Finishing line</a></li>
<li class="chapter" data-level="18.11" data-path="seminar-02-06.html"><a href="seminar-02-06.html#response"><i class="fa fa-check"></i><b>18.11</b> Response</a></li>
<li class="chapter" data-level="18.12" data-path="seminar-02-06.html"><a href="seminar-02-06.html#score"><i class="fa fa-check"></i><b>18.12</b> Score</a></li>
<li class="chapter" data-level="18.13" data-path="seminar-02-06.html"><a href="seminar-02-06.html#staircase"><i class="fa fa-check"></i><b>18.13</b> Staircase</a></li>
<li class="chapter" data-level="18.14" data-path="seminar-02-06.html"><a href="seminar-02-06.html#limiting-time"><i class="fa fa-check"></i><b>18.14</b> Limiting time</a></li>
<li class="chapter" data-level="18.15" data-path="seminar-02-06.html"><a href="seminar-02-06.html#this-is-just-a-start"><i class="fa fa-check"></i><b>18.15</b> This is just a start!</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html"><i class="fa fa-check"></i><b>19</b> Context, settings, and exceptions</a>
<ul>
<li class="chapter" data-level="19.1" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#context-manager"><i class="fa fa-check"></i><b>19.1</b> Context manager</a></li>
<li class="chapter" data-level="19.2" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#settings-files"><i class="fa fa-check"></i><b>19.2</b> Settings file formats</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#xml"><i class="fa fa-check"></i><b>19.2.1</b> XML</a></li>
<li class="chapter" data-level="19.2.2" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#ini"><i class="fa fa-check"></i><b>19.2.2</b> INI</a></li>
<li class="chapter" data-level="19.2.3" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#json"><i class="fa fa-check"></i><b>19.2.3</b> JSON</a></li>
<li class="chapter" data-level="19.2.4" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#yaml"><i class="fa fa-check"></i><b>19.2.4</b> YAML</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#settings-file-for-guitar-hero"><i class="fa fa-check"></i><b>19.3</b> Settings file for Guitar Hero</a></li>
<li class="chapter" data-level="19.4" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#context-based-on-settings"><i class="fa fa-check"></i><b>19.4</b> Context based on settings</a></li>
<li class="chapter" data-level="19.5" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#using-settings"><i class="fa fa-check"></i><b>19.5</b> Using settings</a></li>
<li class="chapter" data-level="19.6" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#logging-data-1"><i class="fa fa-check"></i><b>19.6</b> Logging data</a></li>
<li class="chapter" data-level="19.7" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#exceptions"><i class="fa fa-check"></i><b>19.7</b> Exceptions</a></li>
<li class="chapter" data-level="19.8" data-path="context-settings-and-exceptions.html"><a href="context-settings-and-exceptions.html#exception-within-context"><i class="fa fa-check"></i><b>19.8</b> Exception within context</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="cross-references.html"><a href="cross-references.html"><i class="fa fa-check"></i>Cross references</a></li>
<li class="divider"></li>
<li><a href="https://alexander-pastukhov.github.io/">Alexander (Sasha) Pastukhov</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python for social and experimental psychology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="context-settings-and-exceptions" class="section level1" number="19">
<h1><span class="header-section-number">Seminar 19</span> Context, settings, and exceptions</h1>
<p>Today, we will reuse our lovely <a href="seminar-02-06.html#seminar-02-06">Guitar Hero</a> game and see how we simplify our life via having settings in a separate file. Plus we will be using context to isolate repetitive initialization / clean-up code and exceptions to control the flow. Thus, create a new folder with all the classes and the final exercise from Guitar Hero, which you will serve as a foundation for exercise 1.</p>
<div id="context-manager" class="section level2" number="19.1">
<h2><span class="header-section-number">19.1</span> Context manager</h2>
<p>On the one hand, context management is a frequently used feature in Python, particularly for file operations. On the other hand, its full power is rarely is less known even though it can be very useful whenever you the context of your program is the same or very similar, as in case of the PsychoPy games that we programmed and typical PsychoPy experiments. In both cases, there is a fairly fixed structure of the program:</p>
<ol style="list-style-type: decimal">
<li>Initialization
<ul>
<li>define experimental settings by either reading them from an <a href="context-settings-and-exceptions.html#settings-files">external file</a>, as you will learn below, or creating constants (less flexible but what we have been doing so far)</li>
<li>create PsychoPy window, logger for experimental results, mouse (if required), initialize special devices such as response box, eye tracker, etc.</li>
</ul></li>
<li>Actual experiment</li>
<li>Saving and cleaning up
<ul>
<li>save data logs</li>
<li>if required, close connection to special devices such as response boxes, eye tracker, etc.</li>
<li>close PsychoPy window</li>
</ul></li>
</ol>
<p>If you look at your code, you will realized that steps 1 and 3 remain fairly the same throughout all the games that we programmed. Thus, we will create a context manager class, which you can always reuse, that will hide away the boilerplate code.</p>
<p>Here is an example of how use of a context manager helps when working with files (something, we will need to use later for our settings files). First, how it works <em>without</em> a context manager: you open a file and assign the object to variable, you work with it, you close it. The latter is important to ensure that information was fully written into it and that you do not lock for file.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb179-1"><a href="context-settings-and-exceptions.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="bu">file</span> <span class="op">=</span> <span class="bu">open</span>(<span class="st">&quot;somefile.txt&quot;</span>, <span class="st">&quot;r&quot;</span>)</span>
<span id="cb179-2"><a href="context-settings-and-exceptions.html#cb179-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ... do something with the file, such as reading the entire file into a single variable</span></span>
<span id="cb179-3"><a href="context-settings-and-exceptions.html#cb179-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> <span class="bu">file</span>.read()</span>
<span id="cb179-4"><a href="context-settings-and-exceptions.html#cb179-4" aria-hidden="true" tabindex="-1"></a>close(<span class="bu">file</span>)</span></code></pre></div>
<p>A better way is to use a context manager that file class implements via <code>with ... as ...</code> statement.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb180-1"><a href="context-settings-and-exceptions.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;somefile.txt&quot;</span>, <span class="st">&quot;r&quot;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb180-2"><a href="context-settings-and-exceptions.html#cb180-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.read()</span></code></pre></div>
<p>Note that now the <code>file.read()</code> is inside of the <code>with</code> block and there is no <code>file.close()</code> call. The latter is evoked automatically, once you run all the code inside the <code>with</code> block and exit it. Although for this example the difference is minimal — a different way to assign a value to a variable and explicit vs. implicit file closing — the second variant takes care of cleaning up, ensures that you do not forget about it, and allows you to concentrate on the important bits.</p>
<p>Here is how it works behind the scenes. A context manager is a class that implements two special methods <code>__enter__</code> and <code>__exit__</code> (so, this is a classic Python <a href="duck-typing">duck typing</a>). The former creates and returns a context, which is whatever attribute or value you require, wheres the former performs cleaning up that is necessary before exiting the context. Here is how we would implement a limited file context manager by ourselves:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb181-1"><a href="context-settings-and-exceptions.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FileManager():</span>
<span id="cb181-2"><a href="context-settings-and-exceptions.html#cb181-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, filename, mode):</span>
<span id="cb181-3"><a href="context-settings-and-exceptions.html#cb181-3" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb181-4"><a href="context-settings-and-exceptions.html#cb181-4" aria-hidden="true" tabindex="-1"></a><span class="co">        Stores the settings for use in __enter__</span></span>
<span id="cb181-5"><a href="context-settings-and-exceptions.html#cb181-5" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb181-6"><a href="context-settings-and-exceptions.html#cb181-6" aria-hidden="true" tabindex="-1"></a><span class="co">        Parameters</span></span>
<span id="cb181-7"><a href="context-settings-and-exceptions.html#cb181-7" aria-hidden="true" tabindex="-1"></a><span class="co">        ----------</span></span>
<span id="cb181-8"><a href="context-settings-and-exceptions.html#cb181-8" aria-hidden="true" tabindex="-1"></a><span class="co">        filename : str</span></span>
<span id="cb181-9"><a href="context-settings-and-exceptions.html#cb181-9" aria-hidden="true" tabindex="-1"></a><span class="co">        mode : str</span></span>
<span id="cb181-10"><a href="context-settings-and-exceptions.html#cb181-10" aria-hidden="true" tabindex="-1"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb181-11"><a href="context-settings-and-exceptions.html#cb181-11" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.<span class="bu">file</span> <span class="op">=</span> <span class="va">None</span></span>
<span id="cb181-12"><a href="context-settings-and-exceptions.html#cb181-12" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.filename <span class="op">=</span> filename</span>
<span id="cb181-13"><a href="context-settings-and-exceptions.html#cb181-13" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.mode <span class="op">=</span> mode</span>
<span id="cb181-14"><a href="context-settings-and-exceptions.html#cb181-14" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb181-15"><a href="context-settings-and-exceptions.html#cb181-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__enter__</span>(<span class="va">self</span>):</span>
<span id="cb181-16"><a href="context-settings-and-exceptions.html#cb181-16" aria-hidden="true" tabindex="-1"></a>      <span class="co">&quot;&quot;&quot; </span></span>
<span id="cb181-17"><a href="context-settings-and-exceptions.html#cb181-17" aria-hidden="true" tabindex="-1"></a><span class="co">      What we need to do to create context:</span></span>
<span id="cb181-18"><a href="context-settings-and-exceptions.html#cb181-18" aria-hidden="true" tabindex="-1"></a><span class="co">        * Open the file and returns the object.</span></span>
<span id="cb181-19"><a href="context-settings-and-exceptions.html#cb181-19" aria-hidden="true" tabindex="-1"></a><span class="co">      </span></span>
<span id="cb181-20"><a href="context-settings-and-exceptions.html#cb181-20" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb181-21"><a href="context-settings-and-exceptions.html#cb181-21" aria-hidden="true" tabindex="-1"></a><span class="co">      ----------</span></span>
<span id="cb181-22"><a href="context-settings-and-exceptions.html#cb181-22" aria-hidden="true" tabindex="-1"></a><span class="co">      File object</span></span>
<span id="cb181-23"><a href="context-settings-and-exceptions.html#cb181-23" aria-hidden="true" tabindex="-1"></a><span class="co">      &quot;&quot;&quot;</span></span>
<span id="cb181-24"><a href="context-settings-and-exceptions.html#cb181-24" aria-hidden="true" tabindex="-1"></a>      <span class="va">self</span>.<span class="bu">file</span> <span class="op">=</span> <span class="bu">open</span>(<span class="va">self</span>.filename, <span class="va">self</span>.mode)</span>
<span id="cb181-25"><a href="context-settings-and-exceptions.html#cb181-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="va">self</span>.<span class="bu">file</span></span>
<span id="cb181-26"><a href="context-settings-and-exceptions.html#cb181-26" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb181-27"><a href="context-settings-and-exceptions.html#cb181-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__exit__</span>(<span class="va">self</span>, exc_type, exc_value, traceback):</span>
<span id="cb181-28"><a href="context-settings-and-exceptions.html#cb181-28" aria-hidden="true" tabindex="-1"></a>      <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb181-29"><a href="context-settings-and-exceptions.html#cb181-29" aria-hidden="true" tabindex="-1"></a><span class="co">      What we need to do before destroying the context:</span></span>
<span id="cb181-30"><a href="context-settings-and-exceptions.html#cb181-30" aria-hidden="true" tabindex="-1"></a><span class="co">        * Close the file before we exit the context.</span></span>
<span id="cb181-31"><a href="context-settings-and-exceptions.html#cb181-31" aria-hidden="true" tabindex="-1"></a><span class="co">      &quot;&quot;&quot;</span></span>
<span id="cb181-32"><a href="context-settings-and-exceptions.html#cb181-32" aria-hidden="true" tabindex="-1"></a>      close(<span class="va">self</span>.<span class="bu">file</span>)</span>
<span id="cb181-33"><a href="context-settings-and-exceptions.html#cb181-33" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb181-34"><a href="context-settings-and-exceptions.html#cb181-34" aria-hidden="true" tabindex="-1"></a><span class="co"># and now we use it!</span></span>
<span id="cb181-35"><a href="context-settings-and-exceptions.html#cb181-35" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> FileManager(<span class="st">&quot;somefile.txt&quot;</span>, <span class="st">&quot;r&quot;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb181-36"><a href="context-settings-and-exceptions.html#cb181-36" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.read()</span></code></pre></div>
<p>Note that <code>__exit__</code> method has extra parameters <code>exc_type</code>, <code>exc_value</code>, and <code>traceback</code>. They will be relevant for exception handling later on but for now, you can ignore them.</p>
<p>Now is your turn! Create a <code>WindowContext</code> class (in a separate file, of course) that will create a PsychoPy Window object of a given size, which is passed to the constructor, and <a href="https://psychopy.org/api/visual/window.html#psychopy.visual.Window.close">closes</a> when the code exists the context. For now, you will need one attribute to store information about the requested size and one attribute for PsychoPy Window itself (hint, use <code>win</code>as an attribute name). There will be a small but important difference relative to <code>FileManager</code> class in the example: There will be other objects that are context-relevant (settings, logging class) that we will add later on, so instead of returning just the window object, the <strong>enter</strong> it should return the reference to the object itself (reminder, reference to the current object is always in the <code>self</code> parameter of a method). Then, you can use it to create a 640-by-480 window (use whatever window size you need of course).</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb182-1"><a href="context-settings-and-exceptions.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> WindowContext((<span class="dv">640</span>, <span class="dv">480</span>)) <span class="im">as</span> ctx:</span>
<span id="cb182-2"><a href="context-settings-and-exceptions.html#cb182-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># your usual code inside but</span></span>
<span id="cb182-3"><a href="context-settings-and-exceptions.html#cb182-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># PsychoPy window is ctx.win</span></span>
<span id="cb182-4"><a href="context-settings-and-exceptions.html#cb182-4" aria-hidden="true" tabindex="-1"></a>  ctx.win.flip()</span></code></pre></div>
<div class="infobox program">
<p>Create <code>WindowContext</code> class and use it in <em>exercise01.py</em>.</p>
</div>
</div>
<div id="settings-files" class="section level2" number="19.2">
<h2><span class="header-section-number">19.2</span> Settings file formats</h2>
<p>So far, we either hard-coded specific values or defined them as constants (a better of these two approaches). However, this means that if you want to run your game with different settings, you need to modify the program itself. And if you want to have two versions of the game (two experimental conditions), you would need to have two programs with all the problems of maintaining virtually identical code in several places at once.</p>
<p>A better approach is to have separate files with settings, so you can keep the code constant and alter specific parameters by specifying which settings file the program should use. This is helpful even you plan to have a single set of setting as it separates code from constants, puts the latter all in one place and makes easier to edit and check them. There are multiple formats for settings files: XML, INI, JSON, YALM, etc.</p>
<div id="xml" class="section level3" number="19.2.1">
<h3><span class="header-section-number">19.2.1</span> XML</h3>
<p><a href="https://en.wikipedia.org/wiki/XML">XML</a> — an Extensible Markup Language — looks similar to HTML (HyperText Markup Language). Experiments designed using PsychoPy Builder interface are stored using XML files but with <a href="https://www.psychopy.org/psyexp.html">.psyexp extension</a>. A settings file for Guitar Hero in XML could look like this</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb183-1"><a href="context-settings-and-exceptions.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;Target&gt;</span></span>
<span id="cb183-2"><a href="context-settings-and-exceptions.html#cb183-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;width&gt;</span>0.4<span class="kw">&lt;/width&gt;</span></span>
<span id="cb183-3"><a href="context-settings-and-exceptions.html#cb183-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;height&gt;</span>0.1<span class="kw">&lt;/height&gt;</span></span>
<span id="cb183-4"><a href="context-settings-and-exceptions.html#cb183-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;locations&gt;</span></span>
<span id="cb183-5"><a href="context-settings-and-exceptions.html#cb183-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;location&gt;</span>-0.5<span class="kw">&lt;/location&gt;</span></span>
<span id="cb183-6"><a href="context-settings-and-exceptions.html#cb183-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;location&gt;</span>0<span class="kw">&lt;/location&gt;</span></span>
<span id="cb183-7"><a href="context-settings-and-exceptions.html#cb183-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;location&gt;</span>0.5<span class="kw">&lt;/location&gt;</span></span>
<span id="cb183-8"><a href="context-settings-and-exceptions.html#cb183-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/locations&gt;</span></span>
<span id="cb183-9"><a href="context-settings-and-exceptions.html#cb183-9" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/Target&gt;</span></span></code></pre></div>
<p>The advantage of XML is that it is very flexible yet structured and you can use <a href="https://docs.python.org/3/library/xml.html">native Python interface</a> to work with them. However, XML is not easy for humans to read, it is overpowered for our purposes of having a simple set of unique constants and its power means that using it is fairly cumbersome.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb184-1"><a href="context-settings-and-exceptions.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> xml.dom <span class="im">import</span> minidom</span>
<span id="cb184-2"><a href="context-settings-and-exceptions.html#cb184-2" aria-hidden="true" tabindex="-1"></a>settings <span class="op">=</span> minidom.parse(<span class="st">&#39;test.xml&#39;</span>)</span>
<span id="cb184-3"><a href="context-settings-and-exceptions.html#cb184-3" aria-hidden="true" tabindex="-1"></a>settings.getElementsByTagName(<span class="st">&quot;target&quot;</span>)[<span class="dv">0</span>].getElementsByTagName(<span class="st">&quot;width&quot;</span>)[<span class="dv">0</span>].firstChild.data <span class="co"># this will give you string &quot;0.4&quot;</span></span></code></pre></div>
</div>
<div id="ini" class="section level3" number="19.2.2">
<h3><span class="header-section-number">19.2.2</span> INI</h3>
<p>This is a format with a structure similar to that found in MS Windows INI files.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb185-1"><a href="context-settings-and-exceptions.html#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[Target]</span></span>
<span id="cb185-2"><a href="context-settings-and-exceptions.html#cb185-2" aria-hidden="true" tabindex="-1"></a><span class="dt">width </span><span class="ot">=</span><span class="st"> </span><span class="fl">0.4</span></span>
<span id="cb185-3"><a href="context-settings-and-exceptions.html#cb185-3" aria-hidden="true" tabindex="-1"></a><span class="dt">height </span><span class="ot">=</span><span class="st"> </span><span class="fl">0.1</span></span>
<span id="cb185-4"><a href="context-settings-and-exceptions.html#cb185-4" aria-hidden="true" tabindex="-1"></a><span class="dt">locations </span><span class="ot">=</span><span class="st"> -</span><span class="fl">0.5</span><span class="st">, </span><span class="dv">0</span><span class="st">, </span><span class="fl">0.5</span></span></code></pre></div>
<p>As you can see it is easier to read and Python has a special <a href="https://docs.python.org/3/library/configparser.html">configparser</a> library to work with them. The object you get is, effectively, a dictionary with additional methods and attributes. Note, however, that <code>ConfigParser</code> does not try to guess the type of data, so all values are stored as <em>strings</em> and it is your job to convert them to whatever type you need, e.g. integer, list, etc.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb186-1"><a href="context-settings-and-exceptions.html#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> configparser</span>
<span id="cb186-2"><a href="context-settings-and-exceptions.html#cb186-2" aria-hidden="true" tabindex="-1"></a>settings <span class="op">=</span> configparser.ConfigParser()</span>
<span id="cb186-3"><a href="context-settings-and-exceptions.html#cb186-3" aria-hidden="true" tabindex="-1"></a>settings.read(<span class="st">&#39;settings.ini&#39;</span>)</span>
<span id="cb186-4"><a href="context-settings-and-exceptions.html#cb186-4" aria-hidden="true" tabindex="-1"></a>settings[<span class="st">&quot;Target&quot;</span>][<span class="st">&quot;width&quot;</span>] <span class="co"># this will give you a string &#39;0.4&#39;</span></span></code></pre></div>
</div>
<div id="json" class="section level3" number="19.2.3">
<h3><span class="header-section-number">19.2.3</span> JSON</h3>
<p><a href="https://en.wikipedia.org/wiki/JSON">JSON</a> (JavaScript Object Notation) is a popular format for web applications that use it to exchange data between server and client.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb187-1"><a href="context-settings-and-exceptions.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb187-2"><a href="context-settings-and-exceptions.html#cb187-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;Target&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb187-3"><a href="context-settings-and-exceptions.html#cb187-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;width&quot;</span><span class="fu">:</span> <span class="fl">0.4</span><span class="fu">,</span></span>
<span id="cb187-4"><a href="context-settings-and-exceptions.html#cb187-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;height&quot;</span><span class="fu">:</span> <span class="fl">0.1</span><span class="fu">,</span></span>
<span id="cb187-5"><a href="context-settings-and-exceptions.html#cb187-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;locations&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="fl">-0.5</span><span class="ot">,</span> <span class="dv">0</span><span class="ot">,</span> <span class="fl">0.5</span><span class="ot">]</span></span>
<span id="cb187-6"><a href="context-settings-and-exceptions.html#cb187-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb187-7"><a href="context-settings-and-exceptions.html#cb187-7" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>You can parse any <em>string</em> with JSON format into a dictionary in Python using <a href="https://docs.python.org/3/library/json.html">json</a> module. Its advantage over INI files is that JSON explicitly specifies data type, so it converts it automatically. Note that unlike configparse, json module does not work with files direction, so you need to open it manually.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb188-1"><a href="context-settings-and-exceptions.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb188-2"><a href="context-settings-and-exceptions.html#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;settings.json&#39;</span>) <span class="im">as</span> json_file:</span>
<span id="cb188-3"><a href="context-settings-and-exceptions.html#cb188-3" aria-hidden="true" tabindex="-1"></a>    settings <span class="op">=</span> json.load(json_file)</span>
<span id="cb188-4"><a href="context-settings-and-exceptions.html#cb188-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb188-5"><a href="context-settings-and-exceptions.html#cb188-5" aria-hidden="true" tabindex="-1"></a>settings[<span class="st">&quot;Target&quot;</span>][<span class="st">&quot;width&quot;</span>] <span class="co"># this will give a float number 0.4</span></span></code></pre></div>
</div>
<div id="yaml" class="section level3" number="19.2.4">
<h3><span class="header-section-number">19.2.4</span> YAML</h3>
<p><a href="https://en.wikipedia.org/wiki/YAML">YAML</a> (YAML Ain’t Markup Language, rhymes with camel) is very similar to JSON but its config files are more human-readable. It has fewer special symbols and brackets but, as in Python, you must watch the indentations as they determine the hierarchy.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb189-1"><a href="context-settings-and-exceptions.html#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Target</span><span class="kw">:</span></span>
<span id="cb189-2"><a href="context-settings-and-exceptions.html#cb189-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">width </span><span class="kw">:</span><span class="at"> </span><span class="fl">0.4</span></span>
<span id="cb189-3"><a href="context-settings-and-exceptions.html#cb189-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">height </span><span class="kw">:</span><span class="at"> </span><span class="fl">0.1</span></span>
<span id="cb189-4"><a href="context-settings-and-exceptions.html#cb189-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">locations </span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="fl">-0.5</span><span class="kw">,</span><span class="at"> </span><span class="dv">0</span><span class="kw">,</span><span class="at"> </span><span class="fl">0.5</span><span class="kw">]</span></span></code></pre></div>
<p>You will need to install a third-party library <a href="https://pyyaml.org/">pyyaml</a> to work with YAML files. Otherwise, you get the same dictionary as for the JSON</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb190-1"><a href="context-settings-and-exceptions.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> yaml</span>
<span id="cb190-2"><a href="context-settings-and-exceptions.html#cb190-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;settings.yaml&quot;</span>) <span class="im">as</span> yaml_stream:</span>
<span id="cb190-3"><a href="context-settings-and-exceptions.html#cb190-3" aria-hidden="true" tabindex="-1"></a>    settings <span class="op">=</span> yaml.load(yaml_stream)</span>
<span id="cb190-4"><a href="context-settings-and-exceptions.html#cb190-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb190-5"><a href="context-settings-and-exceptions.html#cb190-5" aria-hidden="true" tabindex="-1"></a>settings[<span class="st">&quot;Target&quot;</span>][<span class="st">&quot;width&quot;</span>] <span class="co"># this will give a float number 0.4</span></span></code></pre></div>
</div>
</div>
<div id="settings-file-for-guitar-hero" class="section level2" number="19.3">
<h2><span class="header-section-number">19.3</span> Settings file for Guitar Hero</h2>
<p>My personal preference is for <a href="context-settings-and-exceptions.html#yaml">yaml</a>. However, it requires a separate library, so you could use <a href="context-settings-and-exceptions.html#json">json</a> file instead. Create a settings file and call it <em>settings.json</em> (or use your imagination and come up with a better name). You will add more settings later on but for now just define a window size as</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb191-1"><a href="context-settings-and-exceptions.html#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb191-2"><a href="context-settings-and-exceptions.html#cb191-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;window&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb191-3"><a href="context-settings-and-exceptions.html#cb191-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;size&quot;</span> <span class="fu">:</span> <span class="ot">[</span><span class="dv">640</span><span class="ot">,</span> <span class="dv">480</span><span class="ot">]</span></span>
<span id="cb191-4"><a href="context-settings-and-exceptions.html#cb191-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb191-5"><a href="context-settings-and-exceptions.html#cb191-5" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>In <em>exercise02.py</em> simply read the settings into a dictionary and print it out the window size. Remember that you will get a dictionary of dictionaries and think about keys that you need to access that <em>size</em> entry. Check that there are no errors and that dictionary has the correct structure. There should be no further code in <em>exercise02.py</em>.</p>
<div class="infobox program">
<p>Implement reading and printing settings in <em>exercise02.py</em>.</p>
</div>
</div>
<div id="context-based-on-settings" class="section level2" number="19.4">
<h2><span class="header-section-number">19.4</span> Context based on settings</h2>
<p>Now, we will settings when we create the context. Create a new context manager class <code>SettingsContext</code> that will take a string with settings file name as the only input. In the <code>__enter__</code>, you should read settings into <code>settings</code> attribute (reuse your code from exercise 2) and then use window size <em>from that settings</em> to create PsychoPy window and store it in a <code>win</code> attribute. Again, you return the reference to an object itself. For now, the only thing you need to do in the <code>__exit__</code> is to close the window. Use it the same way as before but for the file name instead of the size.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb192-1"><a href="context-settings-and-exceptions.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> SettingsContext(<span class="st">&#39;settings.json&#39;</span>) <span class="im">as</span> ctx:</span>
<span id="cb192-2"><a href="context-settings-and-exceptions.html#cb192-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># your usual code inside but</span></span>
<span id="cb192-3"><a href="context-settings-and-exceptions.html#cb192-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># PsychoPy window is ctx.win</span></span>
<span id="cb192-4"><a href="context-settings-and-exceptions.html#cb192-4" aria-hidden="true" tabindex="-1"></a>    ctx.win.flip()</span></code></pre></div>
<div class="infobox program">
<p>Create <code>SettingsContext</code> class and use it in <em>exercise03.py</em> (based on <em>exercise01.py</em>, what do you need to change?).</p>
</div>
</div>
<div id="using-settings" class="section level2" number="19.5">
<h2><span class="header-section-number">19.5</span> Using settings</h2>
<p>The next exercise is simple: Look through your code, determine which values, either explicit constants or hard-coded ones, are effectively settings, define them in the <em>settings.json</em> file (create a nice hierarchical structure for them), and use them in the code. Hint, if you can get all settings for a window via <code>ctx.settings["Window"]</code>. Think how you can use this to simplify passing multiple settings to <code>Target</code> and <code>TimedResponseTask</code>.</p>
<div class="infobox program">
<p>Update <code>Target</code> and <code>TimedResponseTask</code> classes, put updated main script into <em>exercise04.py</em>.</p>
</div>
</div>
<div id="logging-data-1" class="section level2" number="19.6">
<h2><span class="header-section-number">19.6</span> Logging data</h2>
<p>In the real experiment, we would want to log the responses, e.g., when participants pressed a button and what was the score. PsychoPy provides a convenience class <a href="https://psychopy.org/api/data.html#experimenthandler">ExperimentHandler</a> for such purposes that we already met when programming the <a href="seminar11.html#logging-data">Memory Game</a>.</p>
<p>Reuse the code of <code>SettingsContext</code> class for a <code>GameContext</code> class. In addition to the original functionality, it should create an <code>ExperimentHandler</code> object as a <code>data</code> attribute, so you could use it as <code>ctx.data</code> in the main script. For the context <code>__exit__</code>, you should save the results <a href="https://psychopy.org/api/data.html#psychopy.data.ExperimentHandler.saveAsWideText">as wide text</a>. I suggest that the log file name should be one of the settings. In the main code, log time the pressed key, time of press (relative to the game start), and the score of that press.</p>
<div class="infobox program">
<p>Create <code>GameContext</code> class, use in an updated main script in <em>exercise05.py</em>.</p>
</div>
</div>
<div id="exceptions" class="section level2" number="19.7">
<h2><span class="header-section-number">19.7</span> Exceptions</h2>
<p>When you are running an actual experiment, one of the worries that you have is “what happens to the data I have already logged, program crashes with an error”? Not collecting a full measurement is bad but not keeping at least partial log is even worse, as you can still use it for analysis or as a guidance for future adjustments. Python, as other languages, has special mechanisms to handle <a href="https://docs.python.org/3/tutorial/errors.html">exceptions</a> that arise during the code execution.</p>
<p>Whenever an error occurs at a run time, it <a href="https://docs.python.org/3/reference/simple_stmts.html#the-raise-statement">raises</a> an exception: it creates an object of <a href="https://docs.python.org/3/library/exceptions.html#concrete-exceptions">a special class</a> that contains information describe the problem. For example, a <a href="https://docs.python.org/3/library/exceptions.html#ZeroDivisionError">ZeroDivisionError</a> is raised whenever you try to divide by zero, e.g., <code>1 / 0</code> (you can try this in a Jupyter notebook). A <a href="https://docs.python.org/3/library/exceptions.html#KeyError">KeyError</a> is raised, if you using a dictionary with a wrong key, the code below will raise it:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb193-1"><a href="context-settings-and-exceptions.html#cb193-1" aria-hidden="true" tabindex="-1"></a>a_dict <span class="op">=</span> {<span class="st">&quot;a_key&quot;</span> : <span class="dv">1</span>}</span>
<span id="cb193-2"><a href="context-settings-and-exceptions.html#cb193-2" aria-hidden="true" tabindex="-1"></a>a_dict[<span class="st">&quot;b_key&quot;</span>]</span></code></pre></div>
<p>Similarly, an <a href="https://docs.python.org/3/library/exceptions.html#IndexError">IndexError</a> is raise, if you try to use an invalid index for a list, a <a href="https://docs.python.org/3/library/exceptions.html#NameError">NameError</a>, if you are trying to access variable that does not exist, <a href="https://docs.python.org/3/library/exceptions.html#AttributeError">AttributeError</a> when an object does not have an attribute you are trying to use, etc.</p>
<p>In Python, you can use <code>try: ... except:...finally:</code> operators:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb194-1"><a href="context-settings-and-exceptions.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb194-2"><a href="context-settings-and-exceptions.html#cb194-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># some code that might generate a runtime error</span></span>
<span id="cb194-3"><a href="context-settings-and-exceptions.html#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span>:  </span>
<span id="cb194-4"><a href="context-settings-and-exceptions.html#cb194-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># code that is executed if something bad happens</span></span>
<span id="cb194-5"><a href="context-settings-and-exceptions.html#cb194-5" aria-hidden="true" tabindex="-1"></a><span class="cf">finally</span>:</span>
<span id="cb194-6"><a href="context-settings-and-exceptions.html#cb194-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># code that is executed both with and without exception</span></span>
<span id="cb194-7"><a href="context-settings-and-exceptions.html#cb194-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb194-8"><a href="context-settings-and-exceptions.html#cb194-8" aria-hidden="true" tabindex="-1"></a><span class="co"># code that is executed ONLY if there were no exceptions or if an exception was handled</span></span></code></pre></div>
<p>In the simplest case, you need just the first two operators: <code>try</code> and <code>except</code>. Create a Jupyter notebook (that you will submit as part of the assignment) and write the code that generates a division-by-zero error but is handled via <code>try...except...</code>. In the <code>except</code> simply print out a message, so that you know that it was executed. Create another cell, copy the code and now check that the exception handling code is <em>not</em> executed, if the error is not generated (i.e., divide by some non-zero number).</p>
<p>Using <code>except:</code> catches <em>all</em> exceptions. However, you can be more specific and handle exceptions based on their class.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb195-1"><a href="context-settings-and-exceptions.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb195-2"><a href="context-settings-and-exceptions.html#cb195-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># some code that might generate a runtime error</span></span>
<span id="cb195-3"><a href="context-settings-and-exceptions.html#cb195-3" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">KeyError</span> <span class="im">as</span> key_error:  </span>
<span id="cb195-4"><a href="context-settings-and-exceptions.html#cb195-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># code that is executed only if KeyError exception was raised</span></span>
<span id="cb195-5"><a href="context-settings-and-exceptions.html#cb195-5" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">ZeroDivisionError</span> <span class="im">as</span> zero_division_error:  </span>
<span id="cb195-6"><a href="context-settings-and-exceptions.html#cb195-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># code that is executed only if ZeroDivisionError exception was raised</span></span>
<span id="cb195-7"><a href="context-settings-and-exceptions.html#cb195-7" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span>:</span>
<span id="cb195-8"><a href="context-settings-and-exceptions.html#cb195-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># code that is executed if any OTHER exception is raised.</span></span></code></pre></div>
<p>Implement handling for <code>KeyError</code> and <code>ZeroDivisionError</code>, they should print out different messages to check that it works. Test it generating these runtime errors with your code. What happens if you have the first two specific exception handlers but no general <code>except:</code>?</p>
<p>So far, you generated exception but cause the errors in the code but you can raise these exceptions yourself via <code>raise</code> operator. For example, instead of dividing by zero, you can <code>raise ZeroDivisionError()</code> (note that you are create an object of the class, hence the round brackets!). Use it with you previous code, instead of an actual division by zero. Try raising other exception and see how your code handles them.</p>
<div class="infobox program">
<p>Put exception handling code is cell of a Jupyter notebook.</p>
</div>
<p>So far I have talked about exceptions as a way to report runtime errors. However, they can be used in a more general way to control the execution flow. You already did it when implementing <a href="file:///E:/Teaching/2020WS/python-for-experimental-psychology/docs/seminar-02-05.html#duck-typiing-iterators">class-as-an-iterator</a> approach. Once you ran out of items to return, your <strong>next</strong><code>method raised (StopIteration)[https://docs.python.org/3/library/exceptions.html#StopIteration] exception that informed the</code>for` loop that it has no more items to loop through. We will use that side of exception in the next section when dealing with context.</p>
</div>
<div id="exception-within-context" class="section level2" number="19.8">
<h2><span class="header-section-number">19.8</span> Exception within context</h2>
<p><code>try..except...</code> operators provide a general mechanism for exceptions handling but what happens if an exception is raised inside a context? You can, of course, put a <code>try...except...</code> in the code itself, something you should do, if you are planning to handling specific exceptions. However, if an exception occur in the code inside the context, Python will first <em>exit</em> the context, i.e., the <code>__exit__</code> method. Moreover, it will put the exception information into the parameters <code>exc_type</code> (a class of the exception) and <code>exc_value</code> (an object of that class). This way, you can perform a proper clean-up (save data, close window, etc.) and then handle an exception or leave it alone, so that it propagates further and can be handled by other pieces of your code or stop the execution.</p>
<p>Here, we will use this mechanism not only for safe clean-up but also to make aborting an experiment (or a game) easy. In previous game with many rounds, you had nested loops that made aborting a game via <em>escape</em> key press awkward. You had to check if in the inner loop, differentiate between a normal end-of-round and abort outside, etc. We can make out life much easier via a combination of a context manager and a custom exception. First, create a custom <code>GameAbort</code> class, which is a descendant of the <code>Exception</code> class. You do not need any code in it, even a constructor does not need to be redefined, so use <code>pass</code> statement for its body (you do need to have at least one line of code in the class, so <code>pass</code> will create a line but with no actual executable code). Next, you <code>raise GameAbort()</code>, if the player pressed <em>escape</em> key (do not forget to import <code>GameAbort</code> class, so you can use it in the main script). Finally, in the <strong>exit</strong> method of the <code>GameContext</code> manager, you should check whether <code>exc_type is GameAbort</code> (<code>exc_type</code> will be <code>None</code>, if no exception occurred) and, important(!), <code>return True</code> in that case:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb196-1"><a href="context-settings-and-exceptions.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> GameContext:</span>
<span id="cb196-2"><a href="context-settings-and-exceptions.html#cb196-2" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb196-3"><a href="context-settings-and-exceptions.html#cb196-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__exit__</span>(<span class="va">self</span>, exc_type, exc_value, traceback):</span>
<span id="cb196-4"><a href="context-settings-and-exceptions.html#cb196-4" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb196-5"><a href="context-settings-and-exceptions.html#cb196-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> exc_type <span class="kw">is</span> GameAbort:</span>
<span id="cb196-6"><a href="context-settings-and-exceptions.html#cb196-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb196-7"><a href="context-settings-and-exceptions.html#cb196-7" aria-hidden="true" tabindex="-1"></a>  </span></code></pre></div>
<p>That last bit <code>return True</code> informs Python that you handled the exception and all is good (not need to propagate it further). Now, you can safely abort your experiment from any code location, inside nested loops, functions, etc. In all cases, the exception will be propagated until the <code>__exit__</code> method, doing away with awkward extra checks.</p>
<div class="infobox program">
<p>Create <code>GameAbort</code> exception class, update <code>GameContext</code> class to handle it, use this in an updated main script in <em>exercise06.py</em>.</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="seminar-02-06.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="cross-references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["python-for-experimental-psychology.pdf", "python-for-experimental-psychology.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
